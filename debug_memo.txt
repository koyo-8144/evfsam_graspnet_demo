camera_graspnet_tf_broadcaster.py

camMatrix:  [[609.0291748    0.         325.54885864]
 [  0.         607.63336182 244.46382141]
 [  0.           0.           1.        ]]
distCoeffs:  [0. 0. 0. 0. 0.]
Transformation Matrix (aruco to camera_color):
 [[-0.00216843  0.99974691  0.0223923   0.02487443]
 [ 0.99969497  0.00161633  0.02464451  0.02320527]
 [ 0.02460208  0.02243891 -0.99944546  0.63519616]
 [ 0.          0.          0.          1.        ]]
Transformation Matrix (camera_color to aruco):
 [[-0.00216843  0.99969497  0.02460208 -0.0387714 ]
 [ 0.99974691  0.00161633  0.02243891 -0.03915875]
 [ 0.0223923   0.02464451 -0.99944546  0.63371504]
 [ 0.          0.          0.          1.        ]]
Transformation Matrix (base to ee = base to ee(1)):
 [[ 7.29151962e-04 -9.99995153e-01 -3.02696865e-03  2.80259892e-01]
 [-9.99999045e-01 -7.32702825e-04  1.17213251e-03 -9.09267669e-02]
 [-1.17434470e-03  3.02611110e-03 -9.99994732e-01  4.03168963e-01]
 [ 0.00000000e+00  0.00000000e+00  0.00000000e+00  1.00000000e+00]]
Moving ee to aruco marker
Transformation Matrix (base to aruco = base to ee(0)):
 [[ 1.          0.          0.          0.37813826]
 [ 0.          1.          0.         -0.09015377]
 [ 0.          0.          1.         -0.09336813]
 [ 0.          0.          0.          1.        ]]
delta:  [[ 7.29151962e-04 -9.99999045e-01 -1.17434470e-03 -1.18519842e-04]
 [-9.99995153e-01 -7.32702825e-04  3.02611110e-03 -9.93810406e-02]
 [-3.02696865e-03  1.17213251e-03 -9.99994732e-01  4.96239106e-01]
 [ 0.00000000e+00  0.00000000e+00  0.00000000e+00  1.00000000e+00]]
Moving to start position
Transformation Matrix (camera_color to ee):
 [[-9.99724489e-01  1.51038478e-03 -2.34236160e-02 -2.71160692e-02]
 [-9.13708297e-04 -9.99675345e-01 -2.54630998e-02 -1.25871851e-01]
 [-2.34544705e-02 -2.54346821e-02  9.99401303e-01  1.35242525e-01]
 [ 0.00000000e+00  0.00000000e+00  0.00000000e+00  1.00000000e+00]]
Transformation Matrix (ee to camera_color):
 [[-9.99724489e-01 -9.13708297e-04 -2.34544705e-02 -2.40515668e-02]
 [ 1.51038478e-03 -9.99675345e-01 -2.54346821e-02 -1.22350180e-01]
 [-2.34236160e-02 -2.54630998e-02  9.99401303e-01 -1.39001800e-01]
 [ 0.00000000e+00  0.00000000e+00  0.00000000e+00  1.00000000e+00]]
[INFO] [1740482749.678359]: Moving to start position
[INFO] [1740482751.656229]: Calculate EE to Camera Frame and Graspnet Frame
Transformation Matrix (d435color to d435depth), R should be identity matrix:
 [[1.00000000e+00 0.00000000e+00 0.00000000e+00 1.50000000e-02]
 [0.00000000e+00 1.00000000e+00 0.00000000e+00 1.11022302e-16]
 [0.00000000e+00 0.00000000e+00 1.00000000e+00 0.00000000e+00]
 [0.00000000e+00 0.00000000e+00 0.00000000e+00 1.00000000e+00]]
Transformation Matrix (ee to camera_depth):
 [[-9.99724489e-01 -9.13708297e-04 -2.34544705e-02 -3.90474341e-02]
 [ 1.51038478e-03 -9.99675345e-01 -2.54346821e-02 -1.22327524e-01]
 [-2.34236160e-02 -2.54630998e-02  9.99401303e-01 -1.39353154e-01]
 [ 0.00000000e+00  0.00000000e+00  0.00000000e+00  1.00000000e+00]]
Transformation Matrix (camera_depth to graspnet):
 [[ 6.123234e-17 -1.000000e+00  0.000000e+00  0.000000e+00]
 [ 1.000000e+00  6.123234e-17  0.000000e+00  0.000000e+00]
 [ 0.000000e+00  0.000000e+00  1.000000e+00  0.000000e+00]
 [ 0.000000e+00  0.000000e+00  0.000000e+00  1.000000e+00]]
Transformation Matrix (ee to graspnet):
 [[-9.13708297e-04  9.99724489e-01 -2.34544705e-02 -3.90474341e-02]
 [-9.99675345e-01 -1.51038478e-03 -2.54346821e-02 -1.22327524e-01]
 [-2.54630998e-02  2.34236160e-02  9.99401303e-01 -1.39353154e-01]
 [ 0.00000000e+00  0.00000000e+00  0.00000000e+00  1.00000000e+00]]
Transformation Matrix (base to ee):
 [[ 0.00194282 -0.99998594 -0.00493458  0.27979991]
 [-0.99999361 -0.0019576   0.00299159 -0.09058502]
 [-0.00300121  0.00492873 -0.99998335  0.40317815]
 [ 0.          0.          0.          1.        ]]
Transformation Matrix (base to camera_color):
 [[-0.00333707  0.99978516  0.02045713  0.40278755]
 [ 0.99964507  0.00279449  0.02649391 -0.06670993]
 [ 0.02643105  0.02053828 -0.99943963  0.54164679]
 [ 0.          0.          0.          1.        ]]
Transformation Matrix (base to camera_depth):
 [[-0.00333707  0.99978516  0.02045713  0.4027375 ]
 [ 0.99964507  0.00279449  0.02649391 -0.05171526]
 [ 0.02643105  0.02053828 -0.99943963  0.54204325]
 [ 0.          0.          0.          1.        ]]
Transformation Matrix (base to graspnet):
 [[ 0.99978516  0.00333707  0.02045713  0.4027375 ]
 [ 0.00279449 -0.99964507  0.02649391 -0.05171526]
 [ 0.02053828 -0.02643105 -0.99943963  0.54204325]
 [ 0.          0.          0.          1.        ]]
[INFO] [1740482751.662574]: Publishing Camera Frame and Graspnet frame to tf
[INFO] [1740482751.664018]: Publishing transformation: tool_frame → camera_color
[INFO] [1740482751.665052]: Translation: [-0.02405157 -0.12235018 -0.1390018 ]
[INFO] [1740482751.665792]: Quaternion: [-1.17212783e-02 -1.27263527e-02  9.99850131e-01  6.06114108e-04]
[INFO] [1740482751.666374]: Publishing transformation: tool_frame → camera_depth
[INFO] [1740482751.666948]: Translation: [-0.03904743 -0.12232752 -0.13935315]
[INFO] [1740482751.667469]: Quaternion: [-1.17212783e-02 -1.27263527e-02  9.99850131e-01  6.06114108e-04]
[INFO] [1740482751.667972]: Publishing transformation: tool_frame → graspnet
[INFO] [1740482751.668606]: Translation: [-0.03904743 -0.12232752 -0.13935315]
[INFO] [1740482751.669274]: Quaternion: [ 0.01728709  0.00071069 -0.7074294   0.70657222]



start_graspnet_planning.py

[INFO] [1740482859.751874]: Processing GraspNet output
Transformation Matrix (base to camera_color):
 [[-0.00284735  0.99973438  0.02287053  0.40299221]
 [ 0.99967127  0.00226293  0.02553893 -0.06683839]
 [ 0.02548039  0.02293573 -0.99941218  0.54196545]
 [ 0.          0.          0.          1.        ]]
Transformation Matrix (camera_color to camera_depth):
 [[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  1.50000000e-02]
 [ 0.00000000e+00  1.00000000e+00  0.00000000e+00  1.11022302e-16]
 [ 0.00000000e+00  0.00000000e+00  1.00000000e+00 -1.11022302e-16]
 [ 0.00000000e+00  0.00000000e+00  0.00000000e+00  1.00000000e+00]]
Transformation Matrix (camera_depth to graspnet):
 [[-4.44089210e-16 -1.00000000e+00 -2.21417152e-17  0.00000000e+00]
 [ 1.00000000e+00 -4.44089210e-16  2.51555951e-18  0.00000000e+00]
 [-2.51555951e-18 -2.21417152e-17  1.00000000e+00  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00  0.00000000e+00  1.00000000e+00]]
Start reading gg values
Transformation Matrix (graspnet to obj):
 [[-0.27231216 -0.86764693  0.41597471 -0.048275  ]
 [ 0.47522101 -0.49718091 -0.72593129 -0.05691061]
 [ 0.8366667   0.          0.54771245  0.54500002]
 [ 0.          0.          0.          1.        ]]
Transformation Matrix (camera_color to obj):
 [[-4.75221010e-01  4.97180910e-01  7.25931290e-01  7.19106100e-02]
 [-2.72312160e-01 -8.67646930e-01  4.15974710e-01 -4.82750000e-02]
 [ 8.36666700e-01  1.31910556e-17  5.47712450e-01  5.45000020e-01]
 [ 0.00000000e+00  0.00000000e+00  0.00000000e+00  1.00000000e+00]]
Transformation Matrix (base to obj):
 [[-0.25175169 -0.86883212  0.42632371  0.36698972]
 [-0.45431344  0.49505405  0.74062196  0.01885805]
 [-0.85452938 -0.00723175 -0.5193528  -0.00198912]
 [ 0.          0.          0.          1.        ]]
Debug Object
[INFO] [1740482859.758876]: Publishing transformation: base_link → obj
[INFO] [1740482859.761345]: Translation: [ 0.36698972  0.01885805 -0.00198912]
[INFO] [1740482859.763581]: Quaternion: [-0.43947329  0.75268827  0.24359029  0.42542615]

